{"ast":null,"code":"import { db } from '../firebase';\nimport { collection, query, where, getDocs, limit, orderBy } from 'firebase/firestore';\nexport const getLastOrder = async timestamp => {\n  const q = query(collection(db, 'order'), where('log_timestamp', '<=', timestamp), orderBy('log_timestamp', 'desc'), limit(1));\n  const querySnapshot = await getDocs(q);\n  return querySnapshot.docs[0].data();\n};\nexport const getlastweekOrder = async timestamp => {\n  const start = timestamp - 86400000 * 7;\n  const end = timestamp;\n  const q = query(collection(db, 'order'), where('log_timestamp', '<=', end), where('log_timestamp', '>=', start));\n  const querySnapshot = await getDocs(q);\n  const result = [];\n  querySnapshot.forEach(doc => {\n    // doc.data() is never undefined for query doc snapshots\n    const data = doc.data();\n    result.push(data);\n  });\n  return result;\n};","map":{"version":3,"names":["db","collection","query","where","getDocs","limit","orderBy","getLastOrder","timestamp","q","querySnapshot","docs","data","getlastweekOrder","start","end","result","forEach","doc","push"],"sources":["/home/palak/Ottonom-robotic-cooking-assistant-/src/components/query.js"],"sourcesContent":["import { db } from '../firebase';\nimport {\n  collection,\n  query,\n  where,\n  getDocs,\n  limit,\n  orderBy,\n} from 'firebase/firestore';\n\nexport const getLastOrder = async (timestamp) => {\n  const q = query(\n    collection(db, 'order'),\n    where('log_timestamp', '<=', timestamp),\n    orderBy('log_timestamp', 'desc'),\n    limit(1)\n  );\n  const querySnapshot = await getDocs(q);\n  return querySnapshot.docs[0].data();\n};\n\nexport const getlastweekOrder = async (timestamp) => {\n  const start = timestamp - 86400000 * 7;\n  const end = timestamp;\n\n  const q = query(\n    collection(db, 'order'),\n    where('log_timestamp', '<=', end),\n    where('log_timestamp', '>=', start)\n  );\n\n  const querySnapshot = await getDocs(q);\n  const result = [];\n  querySnapshot.forEach((doc) => {\n    // doc.data() is never undefined for query doc snapshots\n    const data = doc.data();\n    result.push(data);\n  });\n  return result;\n};\n"],"mappings":"AAAA,SAASA,EAAT,QAAmB,aAAnB;AACA,SACEC,UADF,EAEEC,KAFF,EAGEC,KAHF,EAIEC,OAJF,EAKEC,KALF,EAMEC,OANF,QAOO,oBAPP;AASA,OAAO,MAAMC,YAAY,GAAG,MAAOC,SAAP,IAAqB;EAC/C,MAAMC,CAAC,GAAGP,KAAK,CACbD,UAAU,CAACD,EAAD,EAAK,OAAL,CADG,EAEbG,KAAK,CAAC,eAAD,EAAkB,IAAlB,EAAwBK,SAAxB,CAFQ,EAGbF,OAAO,CAAC,eAAD,EAAkB,MAAlB,CAHM,EAIbD,KAAK,CAAC,CAAD,CAJQ,CAAf;EAMA,MAAMK,aAAa,GAAG,MAAMN,OAAO,CAACK,CAAD,CAAnC;EACA,OAAOC,aAAa,CAACC,IAAd,CAAmB,CAAnB,EAAsBC,IAAtB,EAAP;AACD,CATM;AAWP,OAAO,MAAMC,gBAAgB,GAAG,MAAOL,SAAP,IAAqB;EACnD,MAAMM,KAAK,GAAGN,SAAS,GAAG,WAAW,CAArC;EACA,MAAMO,GAAG,GAAGP,SAAZ;EAEA,MAAMC,CAAC,GAAGP,KAAK,CACbD,UAAU,CAACD,EAAD,EAAK,OAAL,CADG,EAEbG,KAAK,CAAC,eAAD,EAAkB,IAAlB,EAAwBY,GAAxB,CAFQ,EAGbZ,KAAK,CAAC,eAAD,EAAkB,IAAlB,EAAwBW,KAAxB,CAHQ,CAAf;EAMA,MAAMJ,aAAa,GAAG,MAAMN,OAAO,CAACK,CAAD,CAAnC;EACA,MAAMO,MAAM,GAAG,EAAf;EACAN,aAAa,CAACO,OAAd,CAAuBC,GAAD,IAAS;IAC7B;IACA,MAAMN,IAAI,GAAGM,GAAG,CAACN,IAAJ,EAAb;IACAI,MAAM,CAACG,IAAP,CAAYP,IAAZ;EACD,CAJD;EAKA,OAAOI,MAAP;AACD,CAlBM"},"metadata":{},"sourceType":"module"}